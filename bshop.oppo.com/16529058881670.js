

(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["myOrder"],{1302:function(t,e,a){},7209:function(t,e,a){},"7b2d":function(t,e,a){"use strict";var r=a("e176"),s=a.n(r);s.a},"841d":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("keep-alive",[a("div",{staticClass:"container"},[a("div",{staticClass:"title ent-font-bold"},[t._v(t._s(t.title))]),a("div",{staticClass:"tabs"},[a("el-tabs",{on:{"tab-click":t.handleTabChange},model:{value:t.filterData.status,callback:function(e){t.$set(t.filterData,"status",e)},expression:"filterData.status"}},t._l(t.tabs,(function(t){return a("el-tab-pane",{key:t.prop,attrs:{name:t.prop,label:t.label}})})),1)],1),a("div",{staticClass:"content-wrapper"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content",attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"#f5f5f5"}},[t._l(t.tableData,(function(e){return a("order",{key:e.id,staticClass:"order-item",attrs:{"order-type":t.orderType,"role-type":t.roleType,"page-type":t.pageType,"order-data":e},on:{event:t.handleEvent}})})),0!==t.tableData.length||t.loading?t._e():a("div",{staticClass:"center"},[t._v("\n          暂无订单\n        ")]),t.tableData.length>0?a("div",[a("pagination",{staticClass:"order-pagination",attrs:{"current-page":t.pagination.page,"page-size":t.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.totalCount,background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],2),a("upload-imei",{attrs:{"form-type":t.iemiType,"show-dialog":t.imeiDialog,"edit-data":t.editData},on:{"update:showDialog":function(e){t.imeiDialog=e},"update:show-dialog":function(e){t.imeiDialog=e},refresh:t.getTableData}}),a("check-result",{attrs:{"show-dialog":t.checkDialog,"edit-data":t.editData},on:{"update:showDialog":function(e){t.checkDialog=e},"update:show-dialog":function(e){t.checkDialog=e},refresh:t.getTableData}}),a("confirm-dialog",{attrs:{"show-dialog":t.confirmDialog,title:t.confirmTitle,content:t.confirmContent},on:{"update:showDialog":function(e){t.confirmDialog=e},"update:show-dialog":function(e){t.confirmDialog=e},confirm:t.handleConfirmForm}}),a("choose-resource",{attrs:{"show-dialog":t.chooseDialog,"order-data":t.editData},on:{"update:showDialog":function(e){t.chooseDialog=e},"update:show-dialog":function(e){t.chooseDialog=e},refresh:t.getTableData}})],1)])])},s=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("3b8d")),n=a("bd86"),o=(a("7f7f"),a("4702")),c=a("4bab"),d=a("9560"),l=a("fe93"),u=a("9669"),p=a("a00f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("custom-dialog",{attrs:{visible:t.visible,width:"860px"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"choose-resource-form"},[a("div",{staticClass:"form-title ent-font-bold"},[t._v("添加定制资源")]),a("div",{staticClass:"form-content"},[t._l(t.resourceList,(function(e){return a("div",{key:e.versionName,staticClass:"resource-item"},[a("div",{staticClass:"resource-item-header"},[a("div",{staticClass:"w-80"}),a("div",{staticClass:"w-280"},[t._v(t._s(t._f("formatTime")(e.gmtCreate)))]),a("div",[t._v("资源订单号："+t._s(e.orderId))])]),a("div",{staticClass:"resource-item-content"},[a("div",{staticClass:"w-80 center"},[a("el-checkbox",{staticClass:"custom-checkbox",attrs:{"true-label":e.id},model:{value:t.form.resourceOrderId,callback:function(e){t.$set(t.form,"resourceOrderId",e)},expression:"form.resourceOrderId"}})],1),a("div",{staticClass:"w-280"},[t._v("版本名称："+t._s(e.resourceName))]),a("div",{staticClass:"w-280"},[t._v("版本号："+t._s(e.version))]),a("div",[t._v("\n            状态：已通过审核\n          ")])])])})),t.loadResource?a("div",{staticClass:"center"},[t._v("加载中...")]):t.loadResource||0!==t.resourceList.length?t._e():a("div",{staticClass:"center"},[t._v("\n        您当前无定制资源，\n        "),a("el-button",{staticClass:"under-line",attrs:{type:"text"},on:{click:t.handleCustom}},[t._v("点此进入定制资源页面")])],1)],2)]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSubmit}},[t._v("确认")])],1)])},f=[],h=a("74a8"),v=a("5a0c"),g=a.n(v);function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function C(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(a,!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var b={components:{CustomDialog:h["a"]},filters:{formatTime:function(t){return g()(t).format("YYYY-MM-DD")}},props:{showDialog:{type:Boolean,default:!1},orderData:{type:Object,default:function(){}}},data:function(){return{visible:!1,loadResource:!1,loading:!1,form:{resourceOrderId:""},resourceList:[]}},computed:{skuId:function(){return this.orderData.productOrderDetails[0].skuId}},watch:{showDialog:{handler:function(t){this.visible=t,t&&this.updateResourceList()},immediate:!0},visible:function(t){t||(this.form=C({},this.$options.data().form),this.loading=!1),this.$emit("update:showDialog",t)}},methods:{updateResourceList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return 0===this.resourceList.length&&(this.loadResource=!0),t.prev=1,t.next=4,c["a"].getResourceList({skuId:this.skuId});case 4:e=t.sent,this.resourceList=e.data;case 6:return t.prev=6,this.loadResource=!1,t.finish(6);case 9:case"end":return t.stop()}}),t,this,[[1,,6,9]])})));function e(){return t.apply(this,arguments)}return e}(),handleCustom:function(){this.$router.push({name:"store-custom"}),this.visible=!1},handleSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.form.resourceOrderId){t.next=3;break}return this.$message({type:"error",message:"请选择定制资源"}),t.abrupt("return");case 3:return t.prev=3,this.loading=!0,t.next=7,c["a"].relateResource(C({},this.form,{id:this.orderData.id}));case 7:this.$message({type:"success",message:"关联成功"}),this.$emit("refresh"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),this.$message({type:"error",message:t.t0.msg});case 14:return t.prev=14,this.visible=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[3,11,14,17]])})));function e(){return t.apply(this,arguments)}return e}()}},_=b,O=(a("ae4b"),a("2877")),D=Object(O["a"])(_,m,f,!1,null,"7e5959ff",null),k=D.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-order",{attrs:{type:t.orderType,"order-data":t.orderData,"status-text":t.statusText}},[a("template",{slot:"action"},["clientIntentOrder"==t.pageType?a("div",{staticClass:"order-action"},[a("el-button",{staticClass:"text-btn",attrs:{type:"text"},on:{click:t.handleIetentDetail}},[t._v("查看详情")]),1===t.status?a("div",{staticClass:"font-12 md-20 px-20"},[a("div",[t._v("您的意向单已审核通过")]),a("div",[t._v("\n          请"),a("router-link",{staticClass:"link",attrs:{to:{name:"clientCommodityOrder"}}},[t._v("点击此处")]),t._v("\n          进入商品订单\n        ")],1)]):2===t.status?a("div",[a("el-button",{staticClass:"mw-130 md-20",attrs:{type:"primary"},on:{click:t.handleReSubmit}},[t._v("重新提交")]),a("div",{staticClass:"md-20 px-20 font-12"},[t._v("您的意向单审核未通过，请点击查看详情了解详细信息")])],1):t._e()],1):"intentOrderCheck"==t.pageType?a("div",{staticClass:"order-action"},[0===t.status?a("el-button",{staticClass:"mw-130",attrs:{type:"primary"},on:{click:t.handleCheckPass}},[t._v("审核")]):a("el-button",{staticClass:"text-btn",attrs:{type:"text"},on:{click:t.handleIetentDetail}},[t._v("查看详情")])],1):"clientCommodityOrder"==t.pageType?a("div",{staticClass:"order-action"},[a("div",{staticClass:"action-item"},[a("el-button",{staticClass:"text-btn",attrs:{type:"text"},on:{click:t.handleOrderDetail}},[t._v("查看详情")])],1),1==t.status?a("div",{staticClass:"action-item-margin"},[a("el-button",{staticClass:"mw-130 md-20",attrs:{type:"primary"},on:{click:t.handleChooseResource}},[t._v("选择定制资源")])],1):[3,3.1].includes(t.status)?a("div",[3===t.status?[5===t.resourceOrder.status&&1===t.resourceOrder.imeiStatus?[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n              升级码："),a("span",{staticClass:"green"},[t._v(t._s(t.resourceOrder.upgradeCode))])]),a("el-button",{staticClass:"md-20 mw-130",attrs:{type:"primary"},on:{click:t.handleCheckResult}},[t._v("提交验收结果")]),a("div",{staticClass:"md-20 px-20 font-12"},[t._v("\n              温馨提示：您的资源包已制作完成，请等待工作人员与您联系进行测试验收，验收结束后请提交验收结果\n            ")])]:[a("div",{staticClass:"md-20 px-20 font-12"},[t._v("\n              温馨提示：您的订单正在处理中，请等待验收\n            ")])]]:[a("div",{staticClass:"md-20 px-20 font-12"},[t._v("\n            温馨提示：您的订单存在异常，请等待工作人员与您联系\n          ")])]],2):[4,4.1,4.2,4.3].includes(t.status)?a("div",[4===t.status?[5===t.resourceOrder.status?a("div",{staticClass:"md-20"},[a("div",{staticClass:"font-12 px-20"},[t._v("\n              升级码："),a("span",{staticClass:"green font-12"},[t._v(t._s(t.resourceOrder.upgradeCode))])]),a("el-button",{staticClass:"md-20 mw-130",attrs:{type:"primary"},on:{click:t.handleCheckResult}},[t._v("提交验收结果")]),a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n              温馨提示：新的资源包已制作完成，请在手机端重新输入升级码进行升级验收\n            ")])],1):a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n            温馨提示：订单处理中，请等待重新验收\n          ")])]:4.2===t.status?[a("el-button",{staticClass:"md-20 mw-130",attrs:{type:"primary"},on:{click:t.handleReCustomOrder}},[t._v("修改定制资源")])]:4.3===t.status?[a("div",{staticClass:"md-20 px-20 font-12"},[t._v("\n            温馨提示：您的订单存在异常，请等待工作人员与您联系\n          ")])]:t._e()],2):5===t.status?[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n          升级码："),a("span",{staticClass:"green"},[t._v(t._s(t.resourceOrder.upgradeCode))])]),a("el-popover",{directives:[{name:"loading",rawName:"v-loading",value:t.payInfoLoading,expression:"payInfoLoading"}],attrs:{placement:"bottom-end",width:"360",trigger:"click"}},[t.agentInfo?a("div",[a("div",[t._v("\n              尊敬的用户，您好。企业定制目前只支持线下支付，请您于X天内，向以下账号转账，转账成功后，该订单会显示已付款。\n            ")]),a("div",{staticClass:"md-10"},[a("span",{staticClass:"qtr inline"},[t._v("开户行：")]),a("span",[t._v(t._s(t.agentInfo.collectingBank))])]),a("div",{staticClass:"md-10"},[a("span",{staticClass:"qtr inline"},[t._v("开户名称：")]),a("span",[t._v(t._s(t.agentInfo.accountNumberName))])]),a("div",{staticClass:"md-10"},[a("span",{staticClass:"qtr inline"},[t._v("开户账号：")]),a("span",[t._v(t._s(t.agentInfo.accountNumber))])])]):t._e(),a("el-button",{staticClass:"md-20 mw-130",attrs:{slot:"reference",type:"primary"},on:{click:t.handlePay},slot:"reference"},[t._v("立即支付")])],1)]:6===t.status?a("div",[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n          升级码："),a("span",{staticClass:"font-12 green"},[t._v(t._s(t.resourceOrder.upgradeCode))])]),a("div",{staticClass:"md-20 px-20 font-12"},[t._v("温馨提示：正在备货中，请等待")])]):7===t.status?a("div",[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n          升级码："),a("span",{staticClass:"font-12 green"},[t._v(t._s(t.resourceOrder.upgradeCode))])]),a("el-button",{staticClass:"md-20 mw-130",attrs:{type:"primary"},on:{click:t.handleConfirmReceive}},[t._v("确认收货")]),a("div",{staticClass:"md-20 px-20 font-12"},[t._v("\n          温馨提示：已发货，请注意收货。收货后请通过手机端输入升级码进行升级，如存在问题，请与客服联系\n        ")])],1):a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n        升级码："),a("span",{staticClass:"font-12 green"},[t._v(t._s(t.resourceOrder&&t.resourceOrder.upgradeCode))])])],2):"agentSubmitOrder"==t.pageType?a("div",{staticClass:"order-action"},[a("el-button",{staticClass:"text-btn",attrs:{type:"text"},on:{click:t.handleOrderDetail}},[t._v("查看详情")]),[2,2.1].includes(t.status)?a("div",[a("el-button",{staticClass:"md-20",attrs:{type:"primary"},on:{click:t.handleReSubmitOrder}},[t._v("\n          "+t._s(1===t.resourceOrder.repeatCommitFlag?"修改定制资源":"重新提单")+"\n        ")])],1):[3,3.1,3.2].includes(t.status)?a("div",[3.1===t.status?[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n            温馨提示：您的订单存在异常，请等待工作人员与您联系\n          ")])]:[1!==t.resourceOrder.repeatCommitFlag?a("el-button",{staticClass:"md-20",attrs:{type:"primary"},on:{click:function(e){return t.handleUploadImei("test")}}},[t._v("\n            上传测试IMEI号/openid号\n          ")]):t._e(),a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n            "+t._s(1===t.resourceOrder.repeatCommitFlag?"温馨提示：订单处理中，请等待重新验收":"温馨提示：您的订单正在处理中，请等待")+"\n          ")])]],2):[4,4.1,4.2].includes(t.status)?a("div",[4===t.status?[a("div",{staticClass:"font-12 green"},[t._v("\n            测试IMEI号/openid号\n            "),a("el-button",{staticClass:"mx-10 font-12 link",attrs:{type:"text"},on:{click:function(e){return t.handleUploadImei("test")}}},[t._v("修改")])],1)]:4.1===t.status?[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n            温馨提示：您的订单存在异常，请等待工作人员与您联系\n          ")])]:[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n            温馨提示：订单处理中，请等待重新验收\n          ")])]],2):[5,5.1].includes(t.status)?a("div",[1===t.resourceOrder.imeiStatus&&t.resourceOrder.upgradeCode?[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n            升级码："),a("span",{staticClass:"green"},[t._v(t._s(t.orderData.resourceOrderVO.upgradeCode))])]),a("el-button",{staticClass:"md-20",attrs:{type:"primary"},on:{click:t.handleCheckResult}},[t._v("提交验收结果")]),a("div",{staticClass:"px-20 md-20 font-12"},[t._v("\n            "+t._s(1===t.resourceOrder.repeatCommitFlag?"温馨提示：新的资源包已制作完成，请在手机端重新输入升级码进行升级验收":"温馨提示：您的定制资源已制作完成，请在测试机上输入升级码进行升级，并联系客户进行验收")+"\n          ")])]:[a("el-button",{staticClass:"md-20",attrs:{type:"primary"},on:{click:function(e){return t.handleUploadImei("test")}}},[t._v("\n            上传测试IMEI号/openid号\n          ")])]],2):6===t.status?a("div",[a("div",{staticClass:"font-12 px-20 md-20"},[t._v("温馨提示：订单处理中，请等待重新验收")])]):7===t.status?a("div",[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n          升级码："),a("span",{staticClass:"green"},[t._v(t._s(t.orderData.resourceOrderVO.upgradeCode))])]),a("el-button",{staticClass:"md-20 mw-130",attrs:{type:"primary"},on:{click:function(e){return t.handleUploadImei("full")}}},[t._v("\n          上传全量IMEI号/openid号\n        ")])],1):8===t.status?a("div",[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n          升级码："),a("span",{staticClass:"green"},[t._v(t._s(t.orderData.resourceOrderVO.upgradeCode))])]),a("el-button",{staticClass:"md-20 mw-130",attrs:{type:"primary"},on:{click:t.handleConfirmShip}},[t._v("确认出货")])],1):9===t.status?a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n        升级码："),a("span",{staticClass:"green"},[t._v(t._s(t.orderData.resourceOrderVO.upgradeCode))])]):t._e()],1):"orderProcess"==t.pageType?a("div",[a("el-button",{staticClass:"text-btn",attrs:{type:"text"},on:{click:t.handleOrderDetail}},[t._v("查看详情")]),[3,3.1,3.2,3.3].includes(t.status)?a("div",[3.1===t.status?[a("el-button",{staticClass:"md-20",attrs:{type:"primary"},on:{click:function(e){return t.handleUploadImei("test")}}},[t._v("\n            上传测试IMEI号/openid号\n          ")])]:3.2===t.status?[0==t.resourceOrder.imeiStatus?a("el-button",{staticClass:"md-20",attrs:{type:"primary"},on:{click:function(e){return t.handleUploadImei("test")}}},[t._v("\n            上传测试IMEI号/openid号\n          ")]):a("div",{staticClass:"green font-12"},[t._v("\n            测试IMEI号/openid号\n            "),a("el-button",{staticClass:"mx-10 font-12 link",attrs:{type:"text"},on:{click:function(e){return t.handleUploadImei("test")}}},[t._v("修改")])],1)]:3===t.status?a("div",{staticClass:"md-20 font-12"},[t._v("\n          升级码："),a("span",{staticClass:"green"},[t._v(t._s(t.resourceOrder.upgradeCode))])]):3.3===t.status?a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n          温馨提示：您的订单存在异常，请等待工作人员与您联系\n        ")]):t._e()],2):4.1===t.status?[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n          温馨提示：您的订单存在异常，请等待工作人员与您联系\n        ")])]:5===t.status?a("div",[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n          升级码："),a("span",{staticClass:"green"},[t._v(t._s(t.resourceOrder.upgradeCode))])]),a("el-button",{staticClass:"md-20 mw-130",attrs:{type:"primary"},on:{click:t.handleConfirmPayment}},[t._v("确认客户付款")])],1):[6,6.1].includes(t.status)?a("div",[a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n          升级码："),a("span",{staticClass:"green"},[t._v(t._s(t.resourceOrder.upgradeCode))])]),6.1===t.status?a("el-button",{staticClass:"md-20",attrs:{type:"primary"},on:{click:function(e){return t.handleUploadImei("full")}}},[t._v("\n          上传全量IMEI号/openid号\n        ")]):a("div",[a("el-button",{staticClass:"md-20 mw-130",attrs:{type:"primary"},on:{click:t.handleConfirmDelivery}},[t._v("确认发货")]),a("div",{staticClass:"md-20 font-12"},[t._v("（全量机）")])],1)],1):[7,8].includes(t.status)?a("div",{staticClass:"md-20 font-12 px-20"},[t._v("\n        升级码："),a("span",{staticClass:"green"},[t._v(t._s(t.resourceOrder.upgradeCode))])]):t._e()],2):t._e()])],2)},w=[],T={clientIntentOrder:{formatStatus:{0:"审核中",1:"审核通过",2:"审核不通过"},computedMultStatus:function(t){var e=t.status;return e>=3?1:e}},clientCommodityOrder:{formatStatus:{1:"待关联资源",3:"待验收",3.1:"订单结束",4:"待验收",4.1:"资源审核中",4.2:"资源审核未通过",4.3:"订单结束",5:"待付款",6:"待出货",7:"已出货",8:"已完成"},computedMultStatus:function(t){var e=t.status;if(3===e){var a=t.resourceOrderVO.packageStatus;return 31===a?3.1:3}if(4===e){var r=t.resourceOrderVO,s=r.status,i=r.packageStatus;return 1===s?4.1:2===s?4.2:31===i?4.3:4}return e}},agentSubmitOrder:{formatStatus:{1:"审核中",1.1:"资源审核中",2:"审核未通过",2.1:"资源审核未通过",3:"资源包制作中",3.1:"订单结束",3.2:"待验收",4:"资源包制作中",4.1:"订单结束",4.2:"待验收",5:"待验收",5.1:"待上传测试IMEI号",6:"待验收",7:"待上传全量IMEI号",8:"待出货",9:"已完成"},computedMultStatus:function(t){var e=t.resourceOrderVO,a=e.status,r=e.repeatCommitFlag,s=e.imeiStatus,i=e.packageStatus;return 1===a?1===r?1.1:1:2===a?1===r?2.1:2:3===a?31===i?3.1:1===r?3.2:3:4===a?31===i?4.1:1===r?4.2:4:5===a?0===s?5.1:5:a}},intentOrderCheck:{formatStatus:{0:"待审核",1:"审核通过",2:"审核未通过"},computedMultStatus:function(t){var e=t.status;return e>=3?1:e}},orderProcess:{formatStatus:{1:"待客户关联资源",3:"待客户验收",3.1:"待上传测试IMEI号",3.2:"资源包制作中",3.3:"订单结束",4:"客户验收中",4.1:"订单结束",5:"待客户付款",6:"待发货",6.1:"待上传全量IMEI号",7:"待客户收货",8:"客户收货完成"},computedMultStatus:function(t){var e=t.status;if(3===e){var a=t.resourceOrderVO,r=a.status,s=a.imeiStatus,i=a.packageStatus;return 5===r&&0===s?3.1:5!==r&&31===i?3.3:5!==r?3.2:3}if(4===e){var n=t.resourceOrderVO.packageStatus;return 31===n?4.1:4}if(6===e){var o=t.resourceOrderVO.imeiStatus;return 2===o?6:6.1}return e}}},I=a("5c9e"),S=a("be9e"),P=a("fa7d"),R={components:{BaseOrder:I["a"]},props:{orderType:{type:String,default:"intent"},roleType:{type:String,default:"client"},pageType:{type:String,default:"clientIntentOrder"},orderData:{type:Object}},data:function(){var t=T[this.pageType],e=t.formatStatus,a=t.computedMultStatus;return{formatStatus:e,computedMultStatus:a,payInfoLoading:!1,agentInfo:null}},watch:{orderData:function(){var t=T[this.pageType],e=t.computedMultStatus,a=t.formatStatus;this.formatStatus=a,this.computedMultStatus=e}},computed:{status:function(){return this.computedMultStatus(this.orderData)},resourceOrder:function(){return this.orderData.resourceOrderVO},statusText:function(){return this.formatStatus[this.status]},createTime:function(){return this.timeFormat(this.orderData.createTime,"YYYY-MM-DD")}},methods:{timeFormat:P["c"],handleIetentDetail:function(){this.$router.push({name:"indentDetail",query:{id:this.orderData.id,pageType:this.pageType}})},handleOrderDetail:function(){this.$router.push({name:"commodityDetail",query:{id:this.orderData.id,pageType:this.pageType}})},handleReSubmit:function(){this.$router.push({name:"store-intent",query:{id:this.orderData.id}})},handleReCustomOrder:function(){this.$router.push({name:"store-custom",query:{id:this.resourceOrder.id}})},handleReSubmitOrder:function(){this.$router.push({name:"store-order",query:{id:this.orderData.id}})},handleCheckPass:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$router.push({name:"intentCheckDetail",query:{id:this.orderData.id}});case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleChooseResource:function(){this.$emit("event","choose-resource",this.orderData)},handleCheckResult:function(){this.$emit("event","check-result",this.orderData)},handleConfirmShip:function(){this.$emit("event","confirm",this.orderData,"updateResourceStatus",{title:"确认发货",content:'确定发货商品订单号为"'.concat(this.orderData.productOrderSn,'"的商品吗？')})},handleConfirmDelivery:function(){this.$emit("event","confirm",this.orderData,"confirmDelivery",{title:"确认发货",content:'确定发货商品订单号为"'.concat(this.orderData.productOrderSn,'"的商品吗？')})},handleConfirmReceive:function(){this.$emit("event","confirm",this.orderData,"confirmReceive",{title:"确认收货",content:'确认收到商品订单号为"'.concat(this.orderData.productOrderSn,'"的商品吗？')})},handleConfirmPayment:function(){this.$emit("event","confirm",this.orderData,"confirmPayment",{title:"确认客户付款",content:"确定客户已付款商品订单号为".concat(this.orderData.productOrderSn,"的商品吗？")})},handleUploadImei:function(t){this.$emit("event","upload-imei",t,this.orderData)},handlePay:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.agentInfo){t.next=5;break}return t.next=3,S["a"].getAgentInfo({id:this.orderData.proxyUserId});case 3:e=t.sent,this.agentInfo=e.data;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},j=R,M=(a("d5f2"),Object(O["a"])(j,x,w,!1,null,"8492bc8a",null)),$=M.exports,E=a("1799"),L=a("4215");function F(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function U(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?F(a,!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var V={clientIntentOrder:{title:"我的意向单",orderType:"intent",roleType:"client",pageType:"clientIntentOrder",tabs:[{label:"全部意向单",prop:"-1"},{label:"审核通过",prop:"1"},{label:"审核不通过",prop:"2"}],filterData:{status:"-1",productOrderType:"0",type:"-1"}},clientCommodityOrder:{title:"我的商品订单",orderType:"commodity",roleType:"client",pageType:"clientCommodityOrder",tabs:[{label:"全部订单",prop:"-1"},{label:"待验收",prop:"3"},{label:"待付款",prop:"5"},{label:"待收货",prop:"7"}],filterData:{status:"-1",productOrderType:"1",type:"-1"}},agentSubmitOrder:{title:"我提交的订单",orderType:"commodity",roleType:"agent",pageType:"agentSubmitOrder",tabs:[{label:"全部订单",prop:"-1"},{label:"待审核",prop:"0"},{label:"已审核",prop:"-2"}],filterData:{status:"-1",productOrderType:"1",type:"0"}},intentOrderCheck:{title:"意向单审核",orderType:"intent",roleType:"agent",pageType:"intentOrderCheck",tabs:[{label:"全部订单",prop:"-1"},{label:"待审核",prop:"0"},{label:"已审核",prop:"-2"}],filterData:{status:"-1",productOrderType:"0",type:"1"}},orderProcess:{title:"订单处理",orderType:"commodity",roleType:"agent",pageType:"orderProcess",tabs:[{label:"全部订单",prop:"-1"}],filterData:{status:"-1",productOrderType:"1",type:"1"}}},q={name:"OrderContainer",components:{Order:$,UploadImei:l["a"],CheckResult:u["a"],ConfirmDialog:p["a"],ChooseResource:k,Pagination:E["a"]},mixins:[o["a"],L["a"]],data:function(){return{isDeactivated:!0,isInit:!1,pageMap:V,title:"我的商品订单",orderType:"",roleType:"",pageType:"",filterData:{},tabs:[],loading:!1,moreLoading:!1,tableApi:c["a"].getOrderList,tableData:[],editData:{},iemiType:"test",imeiDialog:!1,checkDialog:!1,confirmTitle:"",confirmContent:"",confirmFormType:"confirmPayment",confirmDialog:!1,chooseDialog:!1}},activated:function(){this.resetPage(),this.isDeactivated=!1},deactivated:function(){this.isDeactivated=!0},watch:{$route:function(){this.isDeactivated||this.resetPage()}},methods:{resetPage:function(){var t=this.$route.name,e=this.pageMap[t],a=e.filterData,r=e.tabs,s=e.title,i=e.orderType,n=e.roleType,o=e.pageType,c=this.pageType;c!==t&&(this.title=s,this.roleType=n,this.orderType=i,this.pageType=o,this.tabs=r,this.filterData=U({},a),this.resetPagination()),this.loadPageData()},loadPageData:function(){var t=this;this.loading=!0,this.getTableData((function(){t.loading=!1,t.isInit=!0}))},loadMoredData:function(){var t=this;this.moreLoading=!0,setTimeout((function(){t.moreLoading=!1}),1e3)},resetPagination:function(){this.pagination.page=1,this.pagination.pageSize=10},handleTabChange:function(){this.resetPagination(),this.tableData=[],this.loadPageData()},handleEvent:function(t){var e=Array.prototype.slice.call(arguments,1);switch(t){case"check-result":this.checkDialog=!0,this.editData=e[0];break;case"choose-resource":this.editData=e[0],this.chooseDialog=!0;break;case"confirm":this.confirmDialog=!0,this.editData=e[0],this.confirmFormType=e[1],this.confirmTitle=e[2].title,this.confirmContent=e[2].content;break;case"upload-imei":this.imeiDialog=!0,this.iemiType=e[0],this.editData=e[1];break}},handleConfirmForm:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e=c["a"][this.confirmFormType],a=!1,e||(a=!0,e=d["a"].updateResourceStatus),!a){t.next=9;break}return t.next=7,e({resourceId:this.editData.resourceOrderId,status:9});case 7:t.next=11;break;case 9:return t.next=11,e({id:this.editData.id});case 11:this.$message({type:"success",message:"成功"}),this.getTableData(),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),this.$message({type:"error",message:t.t0});case 18:return t.prev=18,this.confirmDialog=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[0,15,18,21]])})));function e(){return t.apply(this,arguments)}return e}()}},Y=q,N=(a("7b2d"),Object(O["a"])(Y,r,s,!1,null,"25de9253",null));e["default"]=N.exports},ae4b:function(t,e,a){"use strict";var r=a("7209"),s=a.n(r);s.a},d5f2:function(t,e,a){"use strict";var r=a("1302"),s=a.n(r);s.a},e176:function(t,e,a){}}]);
//# sourceMappingURL=myOrder.06646aa5.js.map


