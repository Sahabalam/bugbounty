

(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["product"],{"07a1":function(t,e,n){},"258d":function(t,e,n){"use strict";var r=n("07a1"),i=n.n(r);i.a},"29cc":function(t,e,n){"use strict";n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),i=n("2f62");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e["a"]={computed:o({},Object(i["e"])({trackLoginInfo:function(t){return t.user.loginInfo}})),methods:o({},Object(i["b"])("track",["emitTrackEvent"]),{handleTrackClick:function(t,e){if(this.trackLoginInfo.status){var n=[];e&&n.push({name:"spu_id",value:e}),this.emitTrackEvent({eventId:t,paramMap:n})}}})}},6301:function(t,e,n){},6590:function(t,e,n){},"711c":function(t,e,n){},"874d":function(t,e,n){"use strict";var r=n("711c"),i=n.n(r);i.a},9316:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shop-number-button"},[n("span",{class:["button-minus",this.num===this.min?"button-minus--limitation":""],on:{click:t.handleClickMinus}},[t._v("-")]),n("el-input",{ref:"input",staticClass:"shop-number-button__input",attrs:{type:"text",placeholder:"选择数量"},on:{input:t.handleInput,blur:t.handleBlur},model:{value:t.num,callback:function(e){t.num="string"===typeof e?e.trim():e},expression:"num"}}),n("span",{class:["button-plus",this.num===this.max?"button-plus--limitation":""],on:{click:t.handleClickPlus}},[t._v("+")])],1)},i=[],c=(n("a481"),n("c5f6"),{props:{value:{type:[Number,String],default:1},max:{type:Number,default:1e6},min:{type:Number,default:0}},data:function(){return{show:!1,num:Number(this.value)<this.min?this.min:Number(this.value)>this.max?this.max:Number(this.value)}},watch:{num:function(t){""!==t&&this.$emit("input",Number(t))},value:function(t){this.num=Number(t)<this.min?this.min:Number(t)>this.max?this.max:Number(t)}},methods:{handleClickMinus:function(){this.num!==this.min&&(this.num=this.num-1)},handleClickPlus:function(){this.num!==this.max&&(this.num=this.num+1)},handleBlur:function(){this.num=this.value},handleInput:function(t){this.num=t.replace(/\D/g,"")}}}),o=c,s=(n("c627"),n("2877")),u=Object(s["a"])(o,r,i,!1,null,"091afae0",null);e["a"]=u.exports},a481:function(t,e,n){"use strict";var r=n("cb7c"),i=n("4bf8"),c=n("9def"),o=n("4588"),s=n("0390"),u=n("5f1b"),a=Math.max,l=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,b){return[function(r,i){var c=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,c,i):n.call(String(c),r,i)},function(t,e){var i=b(n,t,this,e);if(i.done)return i.value;var d=r(t),p=String(this),f="function"===typeof e;f||(e=String(e));var g=d.global;if(g){var v=d.unicode;d.lastIndex=0}var O=[];while(1){var y=u(d,p);if(null===y)break;if(O.push(y),!g)break;var C=String(y[0]);""===C&&(d.lastIndex=s(p,c(d.lastIndex),v))}for(var j="",w=0,k=0;k<O.length;k++){y=O[k];for(var P=String(y[0]),_=a(l(o(y.index),p.length),0),I=[],S=1;S<y.length;S++)I.push(h(y[S]));var x=y.groups;if(f){var D=[P].concat(I,_,p);void 0!==x&&D.push(x);var L=String(e.apply(void 0,D))}else L=m(P,p,_,I,x,e);_>=w&&(j+=p.slice(w,_)+L,w=_+P.length)}return j+p.slice(w)}];function m(t,e,r,c,o,s){var u=r+t.length,a=c.length,l=f;return void 0!==o&&(o=i(o),l=p),n.call(s,l,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>a){var p=d(l/10);return 0===p?n:p<=a?void 0===c[p-1]?i.charAt(1):c[p-1]+i.charAt(1):n}s=c[l-1]}return void 0===s?"":s}))}}))},abab:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shop-product"},[n("div",{staticClass:"shop-product-container"},[n("div",{staticClass:"shop-product-content"},[n("div",{staticClass:"shop-product-left"},[n("Left")],1),n("div",{staticClass:"shop-product-right"},[n("Right")],1)])]),n("div",{staticClass:"shop-product-detail"},[n("div",{staticClass:"shop-product-detail-container"},t._l(t.product.imgDetail,(function(t){return n("lazy-image",{key:t.id,attrs:{src:t.img,size:{w:1200}}})})),1)])])},i=[],c=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-left"},[n("div",{staticClass:"product-big"},[n("div",{class:["swiper-container","swiper_"+t.classID]},[n("div",{staticClass:"swiper-wrapper"},t._l(t.imgList,(function(t){return n("lazy-image",{key:t.id,staticClass:"swiper-slide",attrs:{src:t.img,size:{w:560,h:560}}})})),1)])]),n("div",{staticClass:"product-preview"},t._l(t.imgList,(function(e,r){return n("div",{key:e.id,class:["product-preview-item",t.curImg===r?"product-preview-item--active":""],on:{click:function(e){return t.handleClick(r)}}},[e.img?n("img",{attrs:{src:e.img+"?x-oss-process=image/resize,m_pad,h_80,w_80"}}):t._e()])})),0)])},s=[],u=n("2f62"),a=n("d2d4"),l=n.n(a);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={props:{classID:{type:String,default:function(){return String((new Date).getTime())}}},data:function(){return{curImg:0,cacheImgList:[],swiper:null}},computed:p({},Object(u["e"])("product",["product","curColor","curConfig"]),{imgList:function(){return null===this.curColor?this.cacheImgList.length?this.cacheImgList:this.product.colors[0]?this.product.colors[0].imgShow:[]:this.product.colors[this.curColor].imgShow||[{id:0,img:""}]}}),watch:{imgList:function(t){var e=this;t&&(this.cacheImgList=t),this.$nextTick((function(){e.updateSwiper(),e.handleClick(0)}))}},methods:{updateSwiper:function(){this.swiper.reInit()},handleClick:function(t){this.curImg=t,this.swiper.swipeTo(t,500,!0)}},mounted:function(){this.swiper=new l.a(".swiper_".concat(this.classID),{simulateTouch:!1})}},h=f,b=(n("ee07"),n("2877")),m=Object(b["a"])(h,o,s,!1,null,"5033bf3e",null),g=m.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-configuration"},[n("div",{staticClass:"product-title"},[t._v(t._s(t.product.productName))]),n("div",{staticClass:"product-description"},[t._v(t._s(t.product.secondTitle))]),n("div",{staticClass:"product-price"},[t._v("￥"+t._s((t.priceSell/100).toFixed(2)))]),n("Config",{attrs:{title:"颜色",list:t.product.colors.map((function(t){return{id:t.id,name:t.colorName,icon:t.colorIcon,key:"curColor"}})),enableList:t.product.colors.map((function(t){return t.id}))}}),n("Config",{attrs:{title:"配置",list:t.product.configs.map((function(t){return{id:t.id,name:t.id,key:"curConfig"}})),enableList:t.enableConfigList}}),n("Config",{attrs:{title:"选择数量",type:"number"}}),n("div",{staticClass:"product-submit"},[n("el-button",{staticClass:"product-bu product-card",attrs:{loading:t.loadingCard,disabled:!t.skuId},on:{click:function(e){t.handleTrackClick(14),t.handleClickCard()}}},[t._v("加入购物车")]),n("el-button",{staticClass:"product-bu product-intent",attrs:{type:"primary",loading:t.loadingIntent,disabled:!t.skuId},on:{click:function(e){t.handleTrackClick(15),t.handleClickIntent()}}},[t._v("提交意向单")])],1)],1)},O=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-config"},[n("div",{staticClass:"product-title"},[t._v(t._s(t.title))]),"config"===t.type?n("div",{staticClass:"product-content"},t._l(t.list,(function(e,r){return n("div",{key:e.id,class:["product-item",t.curIndex===r?"product-item--active":"",t.enableList.includes(e.id)?"":"product-item--disabled"],on:{click:function(n){return t.handleClick(e,r)}}},[e.icon?n("i",{style:"background-color: "+e.icon.split(",")[0]+"; background-image: linear-gradient(to right bottom,"+e.icon.split(",")[0]+", "+e.icon.split(",")[1]+");"}):t._e(),n("span",[t._v(t._s(e.name))])])})),0):t._e(),"number"===t.type?n("div",{staticClass:"product-content"},[n("Number-Button",{staticClass:"product-item",attrs:{min:1},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1):t._e()])},C=[],j=(n("6762"),n("2fdb"),n("9316"));function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P={components:{NumberButton:j["a"]},props:{type:{type:String,default:"config"},title:{type:String,default:""},list:{type:Array,default:function(){return[]}},enableList:{type:Array,default:function(){return[]}}},data:function(){return{number:1}},computed:k({},Object(u["e"])("product",["product","curColor","curConfig"]),{},Object(u["c"])("product",["skuMap","skuKey","skuId","enableColorList","enableConfigList"]),{curIndex:function(){return this[this.list[0].key]}}),watch:{number:function(t){this.updateAmount(t)}},methods:k({},Object(u["d"])("product",["updateIndex","updateAmount"]),{handleClick:function(t,e){this.enableList.includes(t.id)&&this.updateIndex({label:t.key,index:e})}})},_=P,I=(n("874d"),Object(b["a"])(_,y,C,!1,null,"7b649502",null)),S=I.exports,x=n("29cc");function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(n,!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var E={mixins:[x["a"]],data:function(){return{loadingCard:!1,loadingIntent:!1}},components:{Config:S},computed:L({},Object(u["e"])("product",["product","curColor","curConfig"]),{},Object(u["c"])("product",["skuMap","skuKey","skuId","enableColorList","enableConfigList"]),{priceSell:function(){var t=this.skuMap[this.skuKey];return t?t.priceSell:0}}),watch:{curColor:function(){this.updateProductChooseByColor()}},methods:L({},Object(u["b"])("product",["addProductToCard","addProductToIntent","updateProductChooseByColor"]),{},Object(u["b"])(["checkAuthentication"]),{handleClickCard:function(){var t=this;this.loadingCard=!0,this.checkAuthentication({router:this.$router,authPath:"store-authentication"}).then((function(){return t.addProductToCard()})).then((function(){t.loadingCard=!1,t.$router.push({name:"store-card"})})).finally((function(){return t.loadingCard=!1}))},handleClickIntent:function(){this.addProductToIntent(),this.$router.push({name:"store-intent"})}})},$=E,N=(n("258d"),Object(b["a"])($,v,O,!1,null,"16f6e39f",null)),T=N.exports;function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(n,!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B={props:{id:{type:String,default:""}},components:{Left:g,Right:T},computed:M({},Object(u["e"])("product",["product"])),methods:M({},Object(u["b"])("product",["requestProductInfo","initProductChoose"]),{},Object(u["b"])(["login"]),{},Object(u["d"])("product",["initState"])),mounted:function(){var t=this;this.requestProductInfo(this.id).then((function(e){t.initProductChoose(e)}))},beforeDestroy:function(){this.initState()}},z=B,K=(n("d5bf"),Object(b["a"])(z,r,i,!1,null,"61915fe6",null));e["default"]=K.exports},b9db:function(t,e,n){},c627:function(t,e,n){"use strict";var r=n("6590"),i=n.n(r);i.a},d5bf:function(t,e,n){"use strict";var r=n("6301"),i=n.n(r);i.a},ee07:function(t,e,n){"use strict";var r=n("b9db"),i=n.n(r);i.a}}]);
//# sourceMappingURL=product.0ad55061.js.map


